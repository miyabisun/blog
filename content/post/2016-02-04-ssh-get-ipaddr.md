---
title: 【SSH】接続元のIPアドレスを取得する
date: 2016-02-04T14:14:46+09:00
tags:
  - SSH
id: ssh-get-ipaddr
---

## 一覧

```Bash
# echo $SSH_CONNECTION
153.235.202.182 55544 133.130.113.207 22

# echo $SSH_CONNECTION | awk '{print $1}'
153.235.202.182

# who am i
root     pts/3        2016-02-01 22:14 (p1243183-omed01.osaka.ocn.ne.jp)

# who am i | cut -d '(' -f 2 | sed -e 's/)//g'
p1243183-omed01.osaka.ocn.ne.jp
```

<!-- more -->

## 使い道考察

ローカルの開発環境に外部のマシンを使う場合、
他人が接続して確認してしまえる問題が付きまとう。

Googleクローラーに見つかってインデックスされた挙句、
コピーコンテンツで本番環境のコンテンツの検索順位が落ちたり…
滅多に起こりえないとはいえ、ありえない話ではないと思う。

このコマンドで手っ取り早くIPアドレスが取得出来るので、
ローカル環境を立ち上げる際にNginxやApacheのConfigファイルを動的に作ってアクセス制限出来る仕組みを作っておけばいざという時に安心出来そう。

